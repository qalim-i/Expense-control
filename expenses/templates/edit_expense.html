{% extends 'base.html' %}

{% block content %}
<div class="cp-card" style="max-width: 600px; margin: 0 auto;">
    <h2 style="color: var(--cp-yellow); margin-bottom: 1.5rem;">MODIFY_TRANSACTION</h2>

    <form method="post">
        {% csrf_token %}

        <label style="color: var(--cp-cyan);">TITLE</label>
        <input type="text" name="title" class="cp-input" value="{{ expense.title }}" required>

        <label style="color: var(--cp-cyan);">CATEGORY</label>
        <select name="category" class="cp-input" style="appearance: none; -webkit-appearance: none;">
            <option value="Rent" {% if expense.category == 'Rent' %}selected{% endif %}>Rent</option>
            <option value="Groceries" {% if expense.category == 'Groceries' %}selected{% endif %}>Groceries</option>
            <option value="Transportation" {% if expense.category == 'Transportation' %}selected{% endif %}>Transportation
            </option>
            <option value="Entertainment" {% if expense.category == 'Entertainment' %}selected{% endif %}>Entertainment
            </option>
            <option value="Food" {% if expense.category == 'Food' %}selected{% endif %}>Food</option>
            <option value="Miscellaneous" {% if expense.category == 'Miscellaneous' %}selected{% endif %}>Miscellaneous
            </option>
        </select>

        <label style="color: var(--cp-cyan);">AMOUNT</label>
        <input type="number" step="0.01" name="amount" class="cp-input" value="{{ expense.amount|stringformat:'.2f' }}"
            required>

        <label style="color: var(--cp-cyan);">DATE</label>
        <!-- Use stringformat for date value if needed, or rely on django's rendering -->
        <input type="date" name="date" class="cp-input" value="{{ expense.date|date:'Y-m-d' }}" required>

        <div style="margin-top: 2rem; text-align: right;">
            <a href="{% url 'expense_list' %}" style="margin-right: 20px; color: var(--cp-gray);">CANCEL</a>
            <button type="submit" class="cp-btn cp-btn-primary">UPDATE_ENTRY</button>
        </div>
    </form>
</div>
{% endblock %}